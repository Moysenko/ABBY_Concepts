# Виртуальная машина, построенная на архитектуре фон Неймана

## Язык
По большей части язык похож на ассемблерный. В первых строчках кода вводится список переменных со стартовыми значениями (опционально). После списка переменных идет ключевое слово CODE, после которого следуют команды. Ожидается, что в списке команд будет объявлена функция main. Изначально программа запустится с нее. Список команд:
* MOV_REG reg reg - записать в регистр значение из регистра
* MOV_CONST reg const - записать в регистр константное значние
* ADD_REG reg reg - добавить к регистру значение из регистра
* ADD_CONST reg const - добавить к регистру значение из константы
* SUB_REG - тут и далее аналогично
* SUB_CONST
* MUL_REG
* MUL_CONST
* PRINT_INT reg - вывести число
* PRINT_STR reg - вывести строку
* PRINT_HELLOWORLD (руки не дошли подержать строки :( )
* CALL function_name - вызвать функцию, указатель на текущую строку кладется на стек
* RET - вернуться на строку, указатель на которую лежит на вершине стека
* EXIT - завершить программу
* JMP function_name - переставить указатель текущей строки на функцию function_name
* PUSH reg - положить значение регистра на стек
* POP reg - положить в регистр значение с вершины стека

## Запуск

```python3
python3 main.py
```

Mode - один из encode и process. encode получает название файла и по нему генерирует бинарный код. process получает название файла с бинарным кодом и запускает его

## Скрипты

Ассемблерные скрипты лежат в assembly_codes, байтовые - в binary_codes

basic.asm и func.asm - примеры скриптов

* 1 Задача - helloworld.bin
* 2 Задача - fibonacci_loop.asm
* 2 Задача - TODO: написать сам скрипт